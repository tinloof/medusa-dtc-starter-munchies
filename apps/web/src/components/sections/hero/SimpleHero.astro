---
import type { HOME_QUERYResult } from "@packages/sanity/types";
import SanityImage from "@/components/shared/SanityImage.astro";
import Body from "@/components/shared/typography/Body.astro";
import Heading from "@/components/shared/typography/Heading.astro";
import ButtonLink from "@/components/shared/ButtonLink.astro";

type HeroSection = Extract<
  NonNullable<NonNullable<HOME_QUERYResult>["sections"]>[number],
  { _type: "section.hero" }
>;

interface Props extends HeroSection {}

const props = Astro.props;
const image = props.image;
---

<div class="flex flex-col items-stretch justify-center gap-xs lg:flex-row-reverse">
  <div class="flex min-h-[470px] w-full flex-col items-center justify-center gap-s rounded-lg bg-secondary px-m py-4xl text-center lg:w-1/2 lg:py-m">
    <Heading
      class="leading-[100%]!"
      desktopSize="5xl"
      font="serif"
      mobileSize="3xl"
      tag="h1"
    >
      {props.title}
    </Heading>
    <Body
      class="max-w-[580px] text-balance text-center"
      desktopSize="xl"
      font="sans"
      mobileSize="lg"
    >
      {props.subtitle}
    </Body>
    {props.cta?.link && (
      <ButtonLink
        class="mt-lg"
        href={props.cta.link}
        size="md"
        variant="primary"
      >
        {props.cta.label}
      </ButtonLink>
    )}
  </div>
  {image ? (
    <div class="aspect-square rounded-lg lg:w-1/2">
      <SanityImage
        alt="Hero image"
        class="aspect-square object-cover object-center"
        data={image}
        fetchPriority="high"
      />
    </div>
  ) : (
    <div class="aspect-square rounded-lg bg-accent lg:w-1/2" />
  )}
</div>
