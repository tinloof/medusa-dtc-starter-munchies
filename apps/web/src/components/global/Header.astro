---
import type { Header as HeaderType } from "@packages/sanity/types";
import HeaderClient from "./HeaderClient";
import type { Country } from "./CountrySelectorDialog";
import config from "@/config";

interface Props extends HeaderType {
  countries?: Country[];
  currentCountryCode?: string;
}

const { countries = [], currentCountryCode = config.defaultCountryCode, ...headerProps } = Astro.props;
---

<header class="sticky top-0 z-50 flex w-full flex-col items-center bg-background">
  <HeaderClient
    client:load
    header={headerProps}
    countries={countries}
    countryCode={currentCountryCode}
    defaultCountryCode={config.defaultCountryCode}
  />
  <div class="relative z-30 w-screen" id="navigation-portal" />

  {/* Bottom border on mobile */}
  <div class="h-[1.5px] w-full bg-accent lg:hidden" />
</header>
